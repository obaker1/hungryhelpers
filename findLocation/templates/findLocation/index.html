<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <h2>Find Your Location</h2>
    {% load static %}
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <link rel="stylesheet" href="{% static 'css/style.css'%}">
    <script type="text/javascript" src="{% static 'findLocation/index.js'%}"></script>
</head>
<body>
    <p>The Distances</p>
    <form action="{% url 'add' %}" method="post"}>
        {% csrf_token %}
        Enter a new destination:
        <input type="text" name="destination"> <br>
        <input type="submit">
    </form>
    </br>
    <div id="right-panel">
        <div>
            <strong>Origin: </strong> {{ origin }} <br>
            <strong>Destinations</strong>
            <ol>
                {% for destination in destinations %}
                <li>{{ destination.text }}</li>
                {% endfor %}
            </ol>
        </div>
        <div>
            <strong>Results</strong>
        </div>
        <div id="output"></div>
    </div>
    <div id="map"></div>
    <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
    {{ api_key|json_script:"api_key" }}
    <script async type="text/javascript">
            const api_key = JSON.parse(document.getElementById('api_key').textContent);
            const google_api_script = document.createElement('script');
            google_api_script.setAttribute('src','https://maps.googleapis.com/maps/api/js?key=' + api_key + '&callback=initMap&libraries=&v=weekly');
            document.head.appendChild(google_api_script);
    </script><!--            src="https://maps.googleapis.com/maps/api/js?key={{ api_key }}&callback=initMap&libraries=&v=weekly" type="text/javascript"-->
</body>
</html>

<!--clickable places-->
<!--<iframe-->
<!--  width="450"-->
<!--  height="250"-->
<!--  frameborder="0" style="border:0"-->
<!--  src="https://www.google.com/maps/embed/v1/search?key=***REMOVED***&q=schools+in+Baltimore" allowfullscreen>-->
<!--</iframe>-->

<!--<img width="450" src="https://maps.googleapis.com/maps/api/staticmap?center=Brooklyn+Bridge,New+York,NY&zoom=13&size=600x300&maptype=roadmap&markers=color:blue%7Clabel:S%7C40.702147,-74.015794&markers=color:green%7Clabel:G%7C40.711614,-74.012318&markers=color:red%7Clabel:C%7C40.718217,-73.998284&key=***REMOVED***" alt="Google Map of Albany, NY">-->
